{% extends "base.html" %}
{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}
{% block content %}
<div class="section">
    <h1>Admin Dashboard</h1>
    <h2>Users</h2>
    <table class="dashboard-table">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Username</th>
            <th>Email</th>
            <th>Created At</th>
        </tr>
        {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.created_at }}</td>
        </tr>
        {% endfor %}
    </table>
    <h2>Predictions</h2>
    <table class="dashboard-table">
        <tr>
            <th>User ID</th>
            <th>Predicted Disease</th>
            <th>Confidence</th>
            <th>Date</th>
        </tr>
        {% for pred in predictions %}
        <tr>
            <td>{{ pred.user_id }}</td>
            <td>{{ pred.predicted_disease }}</td>
            <td>{{ "%.2f" % (pred.confidence*100) }}%</td>
            <td>{{ pred.prediction_date }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}