{% extends "base.html" %}
{% block title %}Preeclampsia Prediction{% endblock %}
{% block hero %}
<div class="hero">
    <h1>Preeclampsia Risk Prediction</h1>
    <p>Enter your health details to monitor for preeclampsia risks.</p>
</div>
{% endblock %}
{% block content %}
<div class="card">
    <h2>Preeclampsia Risk Prediction</h2>
    <form id="preeclampsia_form" method="POST" action="{{ url_for('predict_preeclampsia') }}">
        <div class="form-group tooltip">
            <label for="gravida">Gravida</label>
            <input type="number" id="gravida" name="gravida" placeholder="Enter gravida" min="0" max="10" step="1" value="3" required>
            <span class="tooltiptext">Number of pregnancies (0-10).</span>
        </div>
        <div class="form-group tooltip">
            <label for="parity">Parity</label>
            <input type="number" id="parity" name="parity" placeholder="Enter parity" min="0" max="10" step="1" value="1" required>
            <span class="tooltiptext">Number of births (0-10).</span>
        </div>
        <div class="form-group tooltip">
            <label for="gestational_age">Gestational Age (Weeks)</label>
            <input type="number" id="gestational_age" name="gestational_age" placeholder="Enter weeks" min="10" max="42" step="0.1" value="22.2" required>
            <span class="tooltiptext">Gestational age (10.0-42.0 weeks).</span>
        </div>
        <div class="form-group tooltip">
            <label for="age">Age</label>
            <input type="number" id="age" name="age" placeholder="Enter age" min="18" max="50" step="1" value="25" required>
            <span class="tooltiptext">Your age in years (18-50).</span>
        </div>
        <div class="form-group tooltip">
            <label for="bmi">BMI</label>
            <input type="number" id="bmi" name="bmi" placeholder="Enter BMI" min="15" max="50" step="0.1" value="21" required>
            <span class="tooltiptext">Body Mass Index (15.0-50.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="diabetes">Diabetes</label>
            <select id="diabetes" name="diabetes" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">History of diabetes.</span>
        </div>
        <div class="form-group tooltip">
            <label for="hypertension">Hypertension</label>
            <select id="hypertension" name="hypertension" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">History of hypertension.</span>
        </div>
        <div class="form-group tooltip">
            <label for="systolic_bp">Systolic BP (mmHg)</label>
            <input type="number" id="systolic_bp" name="systolic_bp" placeholder="Enter systolic BP" min="70" max="200" step="0.1" value="110" required>
            <span class="tooltiptext">Systolic BP (70.0-200.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="diastolic_bp">Diastolic BP (mmHg)</label>
            <input type="number" id="diastolic_bp" name="diastolic_bp" placeholder="Enter diastolic BP" min="40" max="120" step="0.1" value="70" required>
            <span class="tooltiptext">Diastolic BP (40.0-120.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="hb">Hemoglobin (g/dL)</label>
            <input type="number" id="hb" name="hb" placeholder="Enter hemoglobin" min="5" max="18" step="0.1" value="9.3" required>
            <span class="tooltiptext">Hemoglobin level (5.0-18.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="fetal_weight">Fetal Weight (kg)</label>
            <input type="number" id="fetal_weight" name="fetal_weight" placeholder="Enter fetal weight" min="0.1" max="5" step="0.001" value="0.501" required>
            <span class="tooltiptext">Fetal weight (0.1-5.0 kg).</span>
        </div>
        <div class="form-group tooltip">
            <label for="protein_uria">Protein Uria</label>
            <select id="protein_uria" name="protein_uria" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">Presence of protein in urine.</span>
        </div>
        <div class="form-group tooltip">
            <label for="amniotic_fluid">Amniotic Fluid (cm)</label>
            <input type="number" id="amniotic_fluid" name="amniotic_fluid" placeholder="Enter fluid level" min="5" max="25" step="0.1" value="10" required>
            <span class="tooltiptext">Amniotic fluid level (5.0-25.0 cm).</span>
        </div>
        <button type="submit">Get Prediction</button>
    </form>
</div>
{% if result %}
    <div class="card">
        <h2>Your Prediction Result</h2>
        <p><strong>Preeclampsia Prediction:</strong> {{ result }}</p>
        <p><strong>Clinical Interpretation:</strong> 
            {{ "This indicates a high risk of preeclampsia. Immediate medical consultation is advised." if result == "high" else "This indicates a moderate risk level; consult a healthcare provider." if result == "mid" else "This indicates a low risk level, but regular monitoring is recommended." }}
        </p>
    </div>
{% endif %}
{% endblock %}