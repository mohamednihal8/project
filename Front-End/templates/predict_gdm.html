{% extends "base.html" %}
{% block title %}Gestational Diabetes Prediction{% endblock %}
{% block hero %}
<div class="hero">
    <h1>Gestational Diabetes Prediction</h1>
    <p>Enter your health details to assess your risk.</p>
</div>
{% endblock %}
{% block content %}
<div class="card">
    <h2>Gestational Diabetes Prediction</h2>
    <form id="gdm_form" method="POST" action="{{ url_for('predict_gdm') }}">
        <div class="form-group tooltip">
            <label for="age">Age</label>
            <input type="number" id="age" name="age" placeholder="Enter age" min="18" max="50" step="1" value="30" required>
            <span class="tooltiptext">Your age in years (18-50).</span>
        </div>
        <div class="form-group tooltip">
            <label for="no_pregnancy">No. of Pregnancies</label>
            <input type="number" id="no_pregnancy" name="no_pregnancy" placeholder="Enter number" min="0" max="10" step="1" value="2" required>
            <span class="tooltiptext">Total number of pregnancies (0-10).</span>
        </div>
        <div class="form-group tooltip">
            <label for="bmi">BMI</label>
            <input type="number" id="bmi" name="bmi" placeholder="Enter BMI" min="15" max="50" step="0.1" value="28" required>
            <span class="tooltiptext">Body Mass Index (15.0-50.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="hdl">HDL (mg/dL)</label>
            <input type="number" id="hdl" name="hdl" placeholder="Enter HDL" min="20" max="100" step="0.1" value="50" required>
            <span class="tooltiptext">HDL cholesterol level (20.0-100.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="family_history">Family History</label>
            <select id="family_history" name="family_history" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">Family history of diabetes.</span>
        </div>
        <div class="form-group tooltip">
            <label for="large_child">Large Child</label>
            <select id="large_child" name="large_child" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">Previous large child or birth defect.</span>
        </div>
        <div class="form-group tooltip">
            <label for="pcos">PCOS</label>
            <select id="pcos" name="pcos" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">Polycystic Ovary Syndrome.</span>
        </div>
        <div class="form-group tooltip">
            <label for="sys_bp">Systolic BP (mmHg)</label>
            <input type="number" id="sys_bp" name="sys_bp" placeholder="Enter systolic BP" min="80" max="200" step="0.1" value="120" required>
            <span class="tooltiptext">Systolic BP (80.0-200.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="dia_bp">Diastolic BP (mmHg)</label>
            <input type="number" id="dia_bp" name="dia_bp" placeholder="Enter diastolic BP" min="40" max="120" step="0.1" value="80" required>
            <span class="tooltiptext">Diastolic BP (40.0-120.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="ogtt">OGTT (mg/dL)</label>
            <input type="number" id="ogtt" name="ogtt" placeholder="Enter OGTT" min="50" max="300" step="0.1" value="130" required>
            <span class="tooltiptext">Oral Glucose Tolerance Test (50.0-300.0).</span>
        </div>
        <div class="form-group tooltip">
            <label for="sedentary">Sedentary Lifestyle</label>
            <select id="sedentary" name="sedentary" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">Limited physical activity.</span>
        </div>
        <div class="form-group tooltip">
            <label for="prediabetes">Prediabetes</label>
            <select id="prediabetes" name="prediabetes" required>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>
            <span class="tooltiptext">Previous prediabetes diagnosis.</span>
        </div>
        <button type="submit">Get Prediction</button>
    </form>
</div>
{% if result %}
    <div class="card">
        <h2>Your Prediction Result</h2>
        <p><strong>Gestational Diabetes Prediction:</strong> {{ result }}</p>
        <p><strong>Clinical Interpretation:</strong> 
            {{ "This indicates a risk for gestational diabetes. Consult an obstetrician for further evaluation." if result == "GDM" else "This indicates no immediate concern for gestational diabetes, but continue monitoring." }}
        </p>
    </div>
{% endif %}
{% endblock %}